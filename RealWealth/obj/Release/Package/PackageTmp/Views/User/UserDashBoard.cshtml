@model MyTrade.Models.Dashboard

@{
    ViewBag.Title = "UserDashBoard";
    Layout = "~/Views/Shared/_UserLayout.cshtml";
}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link href="~/plugins/apex/apexcharts.css" rel="stylesheet" type="text/css">
<link href="~/assets/css/dashboard/dash_1.css" rel="stylesheet" type="text/css" />
<link href="~/assets/css/elements/alert.css" rel="stylesheet" />
<style>
    .referral {
        font-weight: 600;
        color: #ff0000;
        font-size: 23px;
        letter-spacing: 0;
    }

    .referral-url {
        background-color: #f5e2e2;
        padding: 5px 20px;
        border: 1px solid red;
        border-radius: 20px;
    }

    .btn_my_referral {
        position: absolute;
        top: 0px;
        right: 92px;
        font-size: 18px;
        text-decoration: none;
        color: #fff;
        font-weight: 700;
    }

    .modal-footer {
        border: none;
    }

    .s-icon a {
        /* background-color: #eb8153; */
        border-radius: 5px;
        margin: 10px;
        width: 35px;
        height: 35px;
        line-height: 33px;
        display: inline-block;
        text-align: center;
        color: white;
        display: inline-block;
        text-align: center;
        white-space: nowrap;
        vertical-align: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        border: 1px solid transparent;
    }

    .alert-light-red {
        color: #ff0000;
        background-color: #efe5e5;
        border-color: #ff0000;
    }

    @@media (max-width: 991px) {
        .alert-icon-right {
            border-right: 45px solid;
        }
    }

    .widget .widget-heading {
        margin-bottom: 0px;
    }

    .particular-balance.d-flex {
        justify-content: space-between;
    }

        .particular-balance.d-flex h5 {
            font-size: 14px;
        }

        .particular-balance.d-flex p {
            font-size: 19px;
            color: white;
        }

    .widget-account-invoice-three .widget-heading {
        padding: 15px 20px 15px 20px;
    }

    .widget.referral {
        padding: 0px 20px;
        margin-top: -70px;
    }

    .widget-account-invoice-three.one .widget-heading {
        background: linear-gradient(135deg, #4361ee 0%, #7c8fe9 100%);
    }

    .widget-account-invoice-three.second .widget-heading {
        background: linear-gradient(135deg, #c71e1f 0%, #e39091 100%);
    }

    .widget-account-invoice-three.third .widget-heading {
        background: linear-gradient(60deg,#26c6da,#008090);
    }

    .widget-account-invoice-three.four .widget-heading {
        background: linear-gradient(60deg,#d6af3c,#865c00);
    }

    .widget-account-invoice-three.five .widget-heading {
        background: linear-gradient(60deg,#efbb70,#fb8c00);
    }

    .widget-account-invoice-three.six .widget-heading {
        background: linear-gradient(60deg,#cfb7a6,#623d0e);
    }

    .widget-account-invoice-three.seven .widget-heading {
        background: linear-gradient(60deg,#c99dc5,#aa20e3);
    }

    .widget-account-invoice-three.eight .widget-heading {
        background: linear-gradient(60deg,#fbfbfd,#cccfd3);
    }

    .carousel-caption {
        /*bottom: -16px;*/
        background-color: #282828ba;
    }

    .carousel-indicators {
        bottom: -18px;
    }

    .carousel-caption.d-none.d-sm-block h5 {
        color: #ffffff;
    }

    .carousel-caption.d-none.d-sm-block p {
        color: #ffffff;
    }

    .img-height {
        height: 300px;
    }
</style>

<div class="layout-px-spacing" style="margin-bottom: 70px;">
    <div class="row layout-top-spacing">
        <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12 mt-3">
            <div class="widget widget-account-invoice-three one">
                <div class="widget-heading">
                    <a href="/User/BusinessReportsForUser">
                        <div class="wallet-balance">
                            <p>Business</p>
                            <h5 class=""><span class="w-currency"></span>Rs. @ViewBag.TotalBusiness</h5>
                        </div>
                    </a>
                    <div class="particular-balance d-flex mt-5">
                        <div class="fisrtdiv">
                            <p>Self <svg xmlns="http://www.w3.org/2000/svg" width="16" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-up"><polyline points="18 15 12 9 6 15"></polyline></svg></p>
                            <h5 class=""><span class="w-currency"></span> Rs. @ViewBag.SelfBusiness</h5>
                        </div>
                        <div class="seconddiv">
                            <p>Team <svg xmlns="http://www.w3.org/2000/svg" width="16" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-up"><polyline points="18 15 12 9 6 15"></polyline></svg></p>
                            <h5 class=""><span class="w-currency"></span> Rs. @ViewBag.TeamBusiness</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12 mt-3">
            <div class="widget widget-account-invoice-three second">
                <div class="widget-heading">
                    <a href="/Downline/AssociateTree">
                        <div class="wallet-balance">
                            <p>Direct</p>
                            <h5 class=""><span class="w-currency"></span> @ViewBag.TotalDirect</h5>
                        </div>
                    </a>
                    <div class="particular-balance d-flex mt-5">
                        <div class="fisrtdiv">
                            <p>Active </p>
                            <h5 class=""><span class="w-currency"></span> @ViewBag.TotalActive</</h5>
                        </div>
                        <div class="seconddiv">
                            <p>In-Active </p>
                            <h5 class=""><span class="w-currency"></span> @ViewBag.TotalInActive</h5>
                        </div>
                        @*<div class="seconddiv">
                                <p>TPS Id </p>
                                <h5 class=""><span class="w-currency"></span> @ViewBag.TPSId</h5>
                            </div>*@
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12 mt-3">
            <div class="widget widget-account-invoice-three four">
                <div class="widget-heading">
                    <a href="/Downline/DirectList">
                        <div class="wallet-balance">
                            <p>Team</p>
                            <h5 class=""><span class="w-currency"></span> @ViewBag.TotalTeam</h5>
                        </div>
                    </a>
                    <div class="particular-balance d-flex mt-5">
                        <div class="fisrtdiv">
                            <p>Active </p>
                            <h5 class=""><span class="w-currency"></span> @ViewBag.TotalTeamActive</</h5>
                        </div>
                        <div class="seconddiv">
                            <p>In-Active </p>
                            <h5 class=""><span class="w-currency"></span> @ViewBag.TotalTeamInActive</h5>
                        </div>
                        @*<div class="seconddiv">
                                <p>TPS Id </p>
                                <h5 class=""><span class="w-currency"></span> @ViewBag.TotalTeamTPSId</h5>
                            </div>*@
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12 mt-3">
            <div class="widget widget-account-invoice-three five">
                <div class="widget-heading">
                    <div class="wallet-balance">
                        <p>Level Bonus</p>
                        <h5 class=""><span class="w-currency"></span> @ViewBag.TotalIncome</h5>
                    </div>
                    <div class="particular-balance d-flex mt-5">
                        <a href="/Report/LevelIncomeTr1">
                            <div class="fisrtdiv">
                                <p> TTP </p>
                                <h5 class=""><span class="w-currency"></span> @ViewBag.LevelIncomeTr1</</h5>
                            </div>
                        </a>
                        <a href="/Report/LevelIncomeTr2">
                            <div class="seconddiv">
                                <p> TPS </p>
                                <h5 class=""><span class="w-currency"></span> @ViewBag.LevelIncomeTr2</h5>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12 mt-3">
            <div class="widget widget-account-invoice-three third">
                <div class="widget-heading">
                    <a href="/Wallet/ViewROI">
                        <div class="wallet-balance">
                            <p>Total Wallet</p>
                            <h5 class=""><span class="w-currency"></span>Rs. @ViewBag.TotalTPSAmountTobeReceived</h5>
                        </div>
                    </a>
                    <div class="particular-balance d-flex mt-5">
                        <div class="firstdiv">
                            <p>Received</p>
                            <h5 class=""><span class="w-currency"></span> Rs. @ViewBag.TotalTPSAmountReceived</h5>
                        </div>
                        <div class="seconddiv">
                            <p>Balance</p>
                            <h5 class=""><span class="w-currency"></span> Rs. @ViewBag.TotalTPSBalanceAmount</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12 mt-3">
            <div class="widget widget-account-invoice-three six">
                <div class="widget-heading">
                    <div class="wallet-balance">
                            <p>Total Amount</p>
                            <h5 class=""><span class="w-currency"></span>Rs. @ViewBag.TotalAmount</h5>
                        </div>
                    <div class="particular-balance d-flex mt-5">
                        <a href="/Report/PayoutWalletLedger">
                            <div class="fisrtdiv">
                                <p>Payout</p>
                                <h5 class=""><span class="w-currency"></span>Rs. @ViewBag.TotalPayoutWallet</</h5>
                            </div>
                        </a>
                        <div class="seconddiv">
                            <p>Reward</p>
                            <h5 class=""><span class="w-currency"></span> Rs. 0.00</h5>
                            @*<h5 class=""><span class="w-currency"></span> Rs. @ViewBag.TotalROI</h5>*@
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12 mt-3">
            <div class="widget widget-account-invoice-three seven">
                <div class="widget-heading">
                    <a href="/User/PinList">
                        <div class="wallet-balance">
                            <p>E-Pin</p>
                            <h5 class=""><span class="w-currency"></span> @ViewBag.TotalPins</h5>
                        </div>
                    </a>
                    <div class="particular-balance d-flex mt-5">
                        <div class="fisrtdiv">
                            <p>Used</p>
                            <h5 class=""><span class="w-currency"></span> @ViewBag.UsedPins</</h5>
                        </div>
                        <div class="seconddiv">
                            <p>Available</p>
                            <h5 class=""><span class="w-currency"></span> @ViewBag.AvailablePins</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12 col-12 mt-3">
            <div class="widget widget-account-invoice-three eight">
                <div class="widget-heading">
                    <div class="wallet-balance">
                        <a href="/Wallet/WalletLedgerList" class="btn btn-info mr-2"><i class="fa fa-folder-open" aria-hidden="true"></i> Wallet Balance Rs. @ViewBag.TotalWalletAmount</a>
                    </div>
                    <div class="wallet-balance">
                        <a href="~/Coming.html" class="btn btn-danger mr-2"><i class="fa fa-credit-card-alt" aria-hidden="true"></i> Recharge</a>
                        @*<p><a href="~/MyTradeWebsite/Coming.html"><i class="fa fa-credit-card-alt" aria-hidden="true"></i>  Recharge</a></p>*@
                    </div>
                    <div class="wallet-balance">
                        <div class="fisrtdiv">
                            <a href="~/Coming.html" class="btn btn-secondary mr-2"><i class="fa fa-file-text" aria-hidden="true"></i> Bill Payment</a>
                            @*<p><a href="~/MyTradeWebsite/Coming.html"><i class="fa fa-credit-card-alt" aria-hidden="true"></i>  Bill Payment</a></p>*@
                        </div>
                    </div>
                </div>

            </div>

        </div>

        <div class="col-xl-4 col-lg-6 col-md-6 col-sm-12 col-12 mt-3">
            <div class="widget widget-chart-two ">
                <div class="widget-heading">
                    <h5 class="">User Details</h5>
                </div>
                <div class="widget-content1">
                    <div id="chart-user" class=""></div>
                </div>
            </div>
        </div>
        @if (ViewBag.TotalBusiness != "0.00")
        {
            <div class="col-xl-4 col-lg-6 col-md-6 col-sm-12 col-12 mt-3">
                <div class="widget widget-chart-two ">
                    <div class="widget-heading">
                        <h5 class="">Business Details</h5>
                    </div>
                    <div class="widget-content1">
                        <div id="chart-user2" class=""></div>
                    </div>
                </div>
            </div>
        }
        else
        {
            <div class="col-xl-4 col-lg-6 col-md-6 col-sm-12 col-12 mt-3">
                <div class="widget widget-chart-two ">
                    <div class="widget-heading">
                        <h5 class="">Business Details</h5>
                    </div>
                    <div class="widget-content1">
                        No Business
                    </div>
                </div>
            </div>
        }

        <div class="col-xl-4 col-lg-6 col-md-6 col-sm-12 col-12 mt-3">
            <div class="widget widget-chart-two ">
                @*<div class="widget-heading">
                    <h5 class="">Rewards</h5>
                </div>*@
                <div class="widget-content1">
                    <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
                        @*<ol class="carousel-indicators">
                            <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
                            <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
                            <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
                        </ol>*@

                        <div class="carousel-inner">
                            @if (Model != null)
                            {
                                if (Model.lstReward != null)
                                {
                                    for (int i = 0; i < 1; i++)
                                    {

                                        <div class="carousel-item active" style="padding: 0px 10px;">
                                            <div class="widget-heading">
                                                <h5 class="">@Model.lstReward[i].Title</h5>
                                            </div>
                                            <img class="d-block w-100 img-height" src="@Model.lstReward[i].Image" alt="First slide" style="border-radius: 10px;">
                                            @*<div class="carousel-caption">
                                                <h5>@Model.lstReward[i].Title</h5>
                                            </div>*@
                                        </div>
                                    }
                                }
                            }
                            @if (Model != null)
                            {
                                if (Model.lstReward != null)
                                {
                                    for (int i = 1; i < Model.lstReward.Count; i++)
                                    {

                                        <div class="carousel-item" style="padding:0px 10px">
                                            <div class="widget-heading">
                                                <h5>@Model.lstReward[i].Title</h5>
                                            </div>
                                            <img class="d-block w-100 img-height" src="@Model.lstReward[i].Image" alt="First slide" style="border-radius: 10px;">
                                            @*<div class="carousel-caption">
                                                <h5>@Model.lstReward[i].Title</h5>
                                            </div>*@
                                        </div>
                                    }
                                }
                            }
                            @*<div class="carousel-item active">
                                    <img class="d-block w-100 img-height" src="~/MyTradeWebsite/assets/img/4.jpg" alt="Second slide">
                                    <div class="carousel-caption d-none d-sm-block">
                                        <h5>Second slide</h5>
                                        <p>Lorem ipsum dolor sit amet, dolore magna aliqua.</p>
                                    </div>
                                </div>
                                <div class="carousel-item">
                                    <img class="d-block w-100 img-height" src="~/MyTradeWebsite/assets/img/4.jpg" alt="Third slide">
                                    <div class="carousel-caption d-none d-sm-block">
                                        <h5>Third slide</h5>
                                        <p>Lorem ipsum dolor sit amet, dolore magna aliqua.</p>
                                    </div>
                                </div>*@
                        </div>
                        <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        @*<div class="col-xl-4 col-lg-6 col-md-6 col-sm-12 col-12 mt-5">
                <div class="widget widget-chart-two ">
                    <div class="widget-heading">
                        <h5 class="">Videos</h5>
                    </div>
                    <div class="widget-content1">
                        <video controls autoplay muted style="width: 100%" class="img-height">
                            <source src="~/assets/img/sample-mp4-file.mp4" type="video/mp4">
                        </video>
                    </div>
                </div>
            </div>*@

        @*<div id="alertCustom" class="col-xl-8 col-lg-12 col-md-12 col-sm-12 col-12 mt-2">

            <div class="statbox widget box box-shadow referral">
                <div class="widget-header">
                    <div class="row">
                        <div class="col-xl-12 col-md-12 col-sm-12 col-12">
                            <h4 class="referral">Referral Link</h4>
                        </div>
                    </div>
                </div>
                <div class="widget-content ">
                    <div class="alert alert-icon-right alert-light-red" role="alert">

                        <strong><a target="_blank" style="font-size: 14px;color:red;word-wrap:break-word" href="http://mytrade.co.in//Home/Registration?Pid=@Session[" Pk_UserId"].ToString()">http://mytrade.co.in//Home/Registration?Pid=@Session["Pk_UserId"].ToString()</a></strong>

                        <a href="javascript:void(0)" data-toggle="modal" data-target="#exampleModal"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-share-2"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg></a>*@

        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Share Link On</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="card" style="border:none">
                            <div class="">
                                @if (Session["LoginId"].ToString() != "")
                                {
                                    //var link = Session["Pk_UserId"].ToString();

                                    <span class="s-icon"><a href="mailto:?subject= Referral Link &amp;body=http://mytrade.co.in//Home/Registration?Pid=@Session["Pk_UserId"].ToString(). Thanks." target="_blank" style="background:#871505"><i class="fa fa-envelope fa-lg"></i></a></span>
                                    <span class="s-icon"><a href="https://api.whatsapp.com/send?text=http://mytrade.co.in//Home/Registration?Pid=@Session["Pk_UserId"].ToString()" target="_blank" style="background:#42f560" data-action="share/whatsapp/share"><i class="fa fa-whatsapp fa-lg"></i></a></span>
                                    <span class="s-icon"><a href="https://www.facebook.com/sharer.php?u=http://mytrade.co.in//Home/Registration?Pid=@Session["Pk_UserId"].ToString()" target="_blank" style="background:#4267B2"><i class="fa fa-facebook fa-lg"></i></a></span>
                                    <span class="s-icon"><a href="https://www.instagram.com/?url=http://mytrade.co.in//Home/Registration?Pid=@Session["Pk_UserId"].ToString()" target="_blank" style="background:#E1306C"><i class="fa fa-instagram fa-lg"></i></a></span>
                                    <span class="s-icon"><a href="https://twitter.com/intent/tweet?text=http://mytrade.co.in//Home/Registration?Pid=@Session["Pk_UserId"].ToString()" target="_blank" style="background:#1DA1F2"><i class="fa fa-twitter fa-lg"></i></a></span>
                                }
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

        @*
            </div>*@
        @*<div class="alert custom-alert-1 mb-4" role="alert">

                <div class="media">

                    <div class="media-body">
                        <div class="alert-text">
                            <a target="_blank" style="font-size: 14px;" href="http://mytrade.co.in//Home/Registration?Pid=@Session[" Pk_UserId"].ToString()"><strong>http://mytrade.co.in//Home/Registration?Pid=@Session["Pk_UserId"].ToString()</strong></a>
                        </div>

                    </div>
                    <div class="alert-icon">
                        <button type="button" class="btn btn-sm" data-toggle="modal" data-target="#exampleModal" style="background:transparent">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-triangle"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12" y2="17"></line></svg>
                        </button>

                    </div>


                </div>
            </div>*@
        @*
            </div>*@
        @*@if (ViewBag.Status == "Active")
            {

            <div class="row my-2">
                <div class="col-xl-10 col-lg-10 col-md-10 col-sm-10 col-10">
                    <div class="referral-url copy" style="text-align:left; word-wrap: break-word;">
                        <a target="_blank" style="font-size: 14px;" href="http://mytrade.co.in//Home/Registration?Pid=@Session[" Pk_UserId"].ToString()">http://mytrade.co.in//Home/Registration?Pid=@Session["Pk_UserId"].ToString()</a>

                    </div>
                </div>

            </div>

            }*@

        @*
                </div>

            </div>*@


    </div>
</div>

<script src="~/plugins/apex/apexcharts.min.js"></script>
<script src="~/plugins/apex/custom-apexcharts.js"></script>
<script>
    // Donut Chart
    var donutChart1 = {

        chart: {
            height: 300,
            type: 'donut',
            toolbar: {
                show: false,
            }
        },
        labels: ['Active', 'InActive', 'TPS Id'],
        colors: ['#d7740f', '#f10909', '#168733', ],
        series: [@ViewBag.TotalActive, @ViewBag.TotalInActive, @ViewBag.TotalBlocked],
        borderColor: '#F97300',
        responsive: [{
            breakpoint: 480,
            options: {
                chart: {
                    width: 200
                },
                legend: {
                    position: 'bottom'
                }
            }
        }]
    }
    var donut1 = new ApexCharts(
        document.querySelector("#chart-user"),
        donutChart1
    );
    donut1.render();

    var donutChart2 = {

        chart: {
            height: 300,
            type: 'donut',
            toolbar: {
                show: false,
            }
        },
        labels: ['TTP', 'TPS'],
        colors: ['#d7740f', '#168733'],
        series: [@ViewBag.Tr1Business, @ViewBag.Tr2Business],
        borderColor: '#F97300',
        responsive: [{
            breakpoint: 480,
            options: {
                chart: {
                    width: 250
                },
                legend: {
                    position: 'bottom'
                }
            }
        }]
    }
    var donut2 = new ApexCharts(
       document.querySelector("#chart-user2"),
       donutChart2
   );

    donut2.render();
</script>
